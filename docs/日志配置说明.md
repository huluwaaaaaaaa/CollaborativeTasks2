# 日志配置说明

## 统一日志格式

所有服务（Gateway、API、Admin）使用统一的日志配置格式。

### 日志格式

```
%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n
```

**示例输出**：
```
2024-11-06 17:30:45.123 [http-nio-8000-exec-1] INFO  io.user.gateway.filter.AuthGlobalFilter - 请求路径: /api/login
```

## 日志文件结构

### Gateway
```
logs/gateway/
├── gateway.log          # 所有日志
├── gateway-2024-11-06.log  # 按日期归档
└── error.log            # 错误日志
```

### API
```
logs/api/
├── api.log
├── api-2024-11-06.log
└── error.log
```

### Admin
```
logs/admin/
├── admin.log
├── admin-2024-11-06.log
└── error.log
```

## 日志级别

- **业务包（io.user）**: DEBUG
- **Spring框架**: WARN
- **根日志**: INFO

## 日志保留

- 保留天数：30天
- 按天滚动归档

## 查看日志

```bash
# 实时查看
tail -f logs/gateway/gateway.log

# 查看错误日志
tail -f logs/gateway/error.log

# 查看指定日期
cat logs/gateway/gateway-2024-11-06.log
```

