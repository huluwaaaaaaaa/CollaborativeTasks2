# CollaborativeTasks2 é¡¹ç›®æ–‡æ¡£

> å®Œæ•´çš„å¾®æœåŠ¡åä½œä»»åŠ¡ç®¡ç†ç³»ç»Ÿ

---

## ğŸ“š æ–‡æ¡£å¯¼èˆª

### æ ¸å¿ƒæ–‡æ¡£

| æ–‡æ¡£ | è¯´æ˜ | å¿«é€Ÿé“¾æ¥ |
|------|------|---------|
| **[GitLab-CICDå®Œæ•´æŒ‡å—](./GitLab-CICDå®Œæ•´æŒ‡å—.md)** | CI/CDå®Œæ•´é…ç½®å’Œä½¿ç”¨ | â­ æ¨èé¦–å…ˆé˜…è¯» |
| **[æ¶æ„è®¾è®¡æ–‡æ¡£](./æ¶æ„è®¾è®¡æ–‡æ¡£.md)** | ç³»ç»Ÿæ•´ä½“æ¶æ„ | äº†è§£ç³»ç»Ÿè®¾è®¡ |
| **[Dockeréƒ¨ç½²æŒ‡å—](./Dockeréƒ¨ç½²æŒ‡å—.md)** | Dockerå®¹å™¨åŒ–éƒ¨ç½² | éƒ¨ç½²ç›¸å…³ |
| **[ä¸€é”®å‘ç‰ˆæŒ‡å—](./ä¸€é”®å‘ç‰ˆæŒ‡å—.md)** | Makefileä½¿ç”¨è¯´æ˜ | å¿«é€Ÿå‘ç‰ˆ |

### é…ç½®ç›¸å…³

| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| [Nacosé…ç½®ä¸­å¿ƒä½¿ç”¨æŒ‡å—](./Nacosé…ç½®ä¸­å¿ƒä½¿ç”¨æŒ‡å—.md) | Nacosé…ç½®ç®¡ç† |
| [ç¯å¢ƒé…ç½®æ–¹æ¡ˆ](./ç¯å¢ƒé…ç½®æ–¹æ¡ˆ.md) | å¤šç¯å¢ƒé…ç½®æ–¹æ¡ˆ |
| [é…ç½®åˆ†å±‚ç®¡ç†è¯´æ˜](./é…ç½®åˆ†å±‚ç®¡ç†è¯´æ˜.md) | é…ç½®åˆ†å±‚ç­–ç•¥ |
| [æ—¥å¿—é…ç½®è¯´æ˜](./æ—¥å¿—é…ç½®è¯´æ˜.md) | æ—¥å¿—ç›¸å…³é…ç½® |

### Gatewayç›¸å…³

| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| [Gatewayä½¿ç”¨è¯´æ˜](./Gatewayä½¿ç”¨è¯´æ˜.md) | APIç½‘å…³ä½¿ç”¨ |
| [Gatewayæµ‹è¯•æŒ‡å—](./Gatewayæµ‹è¯•æŒ‡å—.md) | ç½‘å…³æµ‹è¯•æ–¹æ³• |

### åŸºç¡€è®¾æ–½

| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| [Nexusé…ç½®æŒ‡å—](./Nexusé…ç½®æŒ‡å—.md) | ç§æœé…ç½® |
| [å¿«é€Ÿå¯åŠ¨æŒ‡å—](./å¿«é€Ÿå¯åŠ¨æŒ‡å—.md) | å¿«é€Ÿå¯åŠ¨ç³»ç»Ÿ |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨åŸºç¡€æœåŠ¡

```bash
# å¯åŠ¨MySQLã€Redisã€Nacos
make quick-start
```

### 2. å¯åŠ¨åº”ç”¨æœåŠ¡

```bash
# å¼€å‘ç¯å¢ƒï¼ˆæœ¬åœ°è¿è¡Œï¼‰
make run-api
make run-gateway

# æˆ–Dockeræ–¹å¼
make release-test
```

### 3. è®¿é—®ç³»ç»Ÿ

| æœåŠ¡ | åœ°å€ | è´¦å· |
|------|------|------|
| APIç½‘å…³ | http://localhost:8001 | - |
| Nacos | http://localhost:8848/nacos | nacos/nacos |
| Nexus | http://localhost:8081 | admin/123456 |
| GitLab | http://localhost:8083 | root/ä½ çš„å¯†ç  |

---

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
CollaborativeTasks2/
â”œâ”€â”€ collabtask-api/          # APIæœåŠ¡
â”œâ”€â”€ collabtask-gateway/      # ç½‘å…³æœåŠ¡
â”œâ”€â”€ collabtask-admin/        # ç®¡ç†æœåŠ¡
â”œâ”€â”€ collabtask-common/       # å…¬å…±æ¨¡å—
â”œâ”€â”€ collabtask-dynamic-datasource/  # åŠ¨æ€æ•°æ®æº
â”œâ”€â”€ docker/                  # Dockerç›¸å…³
â”‚   â”œâ”€â”€ base/               # åŸºç¡€é•œåƒ
â”‚   â””â”€â”€ gitlab-runner/      # Runneré•œåƒ
â”œâ”€â”€ docs/                    # ğŸ“š é¡¹ç›®æ–‡æ¡£ï¼ˆä½ åœ¨è¿™é‡Œï¼‰
â”œâ”€â”€ scripts/                 # å·¥å…·è„šæœ¬
â”œâ”€â”€ docker-compose.yml       # åŸºç¡€æœåŠ¡
â”œâ”€â”€ docker-compose-nexus.yml # åº”ç”¨æœåŠ¡
â”œâ”€â”€ Makefile                 # æ„å»ºå·¥å…·
â””â”€â”€ .gitlab-ci.yml          # CI/CDé…ç½®
```

---

## ğŸ”§ å¸¸ç”¨å‘½ä»¤

### å¼€å‘å‘½ä»¤

```bash
make build          # Mavenç¼–è¯‘
make test           # è¿è¡Œæµ‹è¯•
make run-api        # å¯åŠ¨API
make run-gateway    # å¯åŠ¨Gateway
```

### Dockerå‘½ä»¤

```bash
make docker-build   # æ„å»ºé•œåƒ
make docker-up      # å¯åŠ¨æœåŠ¡
make docker-down    # åœæ­¢æœåŠ¡
make docker-logs    # æŸ¥çœ‹æ—¥å¿—
```

### CI/CDå‘½ä»¤

```bash
make release-test   # å‘ç‰ˆåˆ°æµ‹è¯•ç¯å¢ƒ
make release-prod   # å‘ç‰ˆåˆ°ç”Ÿäº§ç¯å¢ƒ
make list-versions  # æŸ¥çœ‹ç‰ˆæœ¬åˆ—è¡¨
```

### æ¸…ç†å‘½ä»¤

```bash
make clean          # æ¸…ç†ç¼–è¯‘äº§ç‰©
make clean-all      # å®Œå…¨æ¸…ç†
```

---

## ğŸ“Š æŠ€æœ¯æ ˆ

### åç«¯

- **Spring Boot 3.5.4** - åº”ç”¨æ¡†æ¶
- **Spring Cloud 2023.0.4** - å¾®æœåŠ¡æ¡†æ¶
- **Spring Cloud Gateway** - APIç½‘å…³
- **Nacos 2.4.5** - é…ç½®ä¸­å¿ƒ&æœåŠ¡æ³¨å†Œ
- **MyBatis Plus** - ORMæ¡†æ¶
- **Druid** - æ•°æ®åº“è¿æ¥æ± 
- **Redis** - ç¼“å­˜
- **MySQL 8.0** - æ•°æ®åº“

### åŸºç¡€è®¾æ–½

- **Docker** - å®¹å™¨åŒ–
- **Docker Compose** - å®¹å™¨ç¼–æ’
- **GitLab** - ä»£ç ä»“åº“&CI/CD
- **Nexus** - åˆ¶å“ä»“åº“
- **Maven** - æ„å»ºå·¥å…·

---

## ğŸ¯ å·¥ä½œæµç¨‹

### å¼€å‘æµç¨‹

```
åŠŸèƒ½å¼€å‘ â†’ æäº¤åˆ°devåˆ†æ”¯
    â†“
åˆ›å»ºMR: dev â†’ test
    â†“
å®¡æ ¸&åˆå¹¶
    â†“
è‡ªåŠ¨è§¦å‘CI/CD
    â†“
æ‰‹åŠ¨éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒ
    â†“
æµ‹è¯•é€šè¿‡
    â†“
åˆ›å»ºMR: test â†’ main
    â†“
éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
```

### CI/CDæµç¨‹

```
ä»£ç åˆå¹¶ â†’ teståˆ†æ”¯
    â†“
GitLab Runnerè‡ªåŠ¨æ‰§è¡Œ:
  1. Cloneä»£ç 
  2. Mavenç¼–è¯‘
  3. æ„å»ºDockeré•œåƒ
  4. æ¨é€åˆ°Nexus
    â†“
è¾“å‡ºéƒ¨ç½²å‘½ä»¤
    â†“
æ‰‹åŠ¨æ‰§è¡Œéƒ¨ç½²
```

---

## ğŸ› æ•…éšœæ’æŸ¥

é‡åˆ°é—®é¢˜ï¼ŸæŸ¥çœ‹ï¼š

1. **[GitLab-CICDå®Œæ•´æŒ‡å—](./GitLab-CICDå®Œæ•´æŒ‡å—.md)** - æ•…éšœæ’æŸ¥ç« èŠ‚
2. **Runneræ—¥å¿—**: `docker logs collabtask-runner`
3. **åº”ç”¨æ—¥å¿—**: `docker logs collabtask-api`
4. **Pipelineæ—¥å¿—**: GitLab Pipelineé¡µé¢

---

## ğŸ“– å»¶ä¼¸é˜…è¯»

- [Spring Cloud Gatewayå®˜æ–¹æ–‡æ¡£](https://spring.io/projects/spring-cloud-gateway)
- [Nacoså®˜æ–¹æ–‡æ¡£](https://nacos.io/zh-cn/docs/what-is-nacos.html)
- [GitLab CI/CDå®˜æ–¹æ–‡æ¡£](https://docs.gitlab.com/ee/ci/)
- [Dockerå®˜æ–¹æ–‡æ¡£](https://docs.docker.com/)

---

## ğŸ“ æ›´æ–°æ—¥å¿—

- **2025-11-07**: å®ŒæˆGitLab CI/CDé›†æˆ
- **2025-11-06**: å®ŒæˆNacosé…ç½®ä¸­å¿ƒé›†æˆ
- **2025-11-05**: å®ŒæˆGatewayè·¯ç”±å’Œè®¤è¯

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

---

**æ–‡æ¡£ç‰ˆæœ¬ï¼š1.0**
**æœ€åæ›´æ–°ï¼š2025-11-07**
