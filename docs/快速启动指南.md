# å¿«é€Ÿå¯åŠ¨æŒ‡å—

## ä¸€ã€å‰ç½®å‡†å¤‡

### 1. ç¯å¢ƒè¦æ±‚
- JDK 17+
- Maven 3.8+
- MySQL 8.0+
- Redis 6.0+
- Nacos 2.x

### 2. å¯åŠ¨Nacos
```bash
# å•æœºæ¨¡å¼å¯åŠ¨
sh nacos/bin/startup.sh -m standalone

# è®¿é—®Nacosæ§åˆ¶å°
# http://localhost:8848/nacos
# é»˜è®¤è´¦å·å¯†ç ï¼šnacos/nacos
```

### 3. é…ç½®æ•°æ®åº“
- åˆ›å»ºæ•°æ®åº“ï¼š`collabtask`
- æ‰§è¡ŒSQLè„šæœ¬ï¼ˆå¦‚æœ‰ï¼‰

## äºŒã€é…ç½®æ£€æŸ¥

### APIæœåŠ¡é…ç½®
æ£€æŸ¥æ–‡ä»¶ï¼š`collabtask-api/src/main/resources/application-dev.yml`

```yaml
spring:
  datasource:
    druid:
      url: jdbc:mysql://localhost:3306/collabtask
      username: root
      password: Y9!8nIeRH@163  # âš ï¸ ä¿®æ”¹ä¸ºä½ çš„æ•°æ®åº“å¯†ç 
```

### Gatewayé…ç½®
æ£€æŸ¥æ–‡ä»¶ï¼š`collabtask-gateway/src/main/resources/bootstrap.yml`

```yaml
spring:
  cloud:
    nacos:
      server-addr: localhost:8848  # âš ï¸ ç¡®è®¤Nacosåœ°å€æ­£ç¡®
```

## ä¸‰ã€å¯åŠ¨æœåŠ¡

### æ–¹å¼ä¸€ï¼šå‘½ä»¤è¡Œå¯åŠ¨ï¼ˆæ¨èï¼‰

#### 1. ç¼–è¯‘é¡¹ç›®
```bash
cd /Users/zgy/Documents/workspace-web3/CollaborativeTasks2
mvn clean install
```

#### 2. å¯åŠ¨APIæœåŠ¡
```bash
cd collabtask-api
mvn spring-boot:run
```

ç­‰å¾…å¯åŠ¨å®Œæˆï¼Œçœ‹åˆ°ä»¥ä¸‹æ—¥å¿—è¡¨ç¤ºæˆåŠŸï¼š
```
Started ApiApplication in X.XXX seconds
```

#### 3. å¯åŠ¨GatewayæœåŠ¡ï¼ˆæ–°ç»ˆç«¯ï¼‰
```bash
cd collabtask-gateway
mvn spring-boot:run
```

ç­‰å¾…å¯åŠ¨å®Œæˆï¼Œçœ‹åˆ°ä»¥ä¸‹æ—¥å¿—è¡¨ç¤ºæˆåŠŸï¼š
```
Started GatewayApplication in X.XXX seconds
```

### æ–¹å¼äºŒï¼šIDEAå¯åŠ¨

1. å¯¼å…¥Mavené¡¹ç›®
2. ç­‰å¾…ä¾èµ–ä¸‹è½½å®Œæˆ
3. è¿è¡Œ `ApiApplication`
4. è¿è¡Œ `GatewayApplication`

## å››ã€éªŒè¯æœåŠ¡

### 1. æ£€æŸ¥Nacosæ³¨å†Œ
è®¿é—®ï¼šhttp://localhost:8848/nacos

è¿›å…¥"æœåŠ¡ç®¡ç†" -> "æœåŠ¡åˆ—è¡¨"ï¼Œåº”è¯¥çœ‹åˆ°ï¼š
- âœ… `collabtask-api`
- âœ… `collabtask-gateway`

### 2. æµ‹è¯•APIæœåŠ¡ï¼ˆç›´è¿ï¼‰
```bash
# ç›´æ¥è®¿é—®APIæœåŠ¡
curl http://localhost:8002/collabtask-api/test
```

### 3. æµ‹è¯•Gatewayè·¯ç”±
```bash
# é€šè¿‡Gatewayè®¿é—®API
curl http://localhost:8001/api/test
```

## äº”ã€ç«¯å£å ç”¨

| æœåŠ¡ | ç«¯å£ | è¯´æ˜ |
|------|------|------|
| Nacos | 8848 | æ³¨å†Œä¸­å¿ƒå’Œæ§åˆ¶å° |
| Gateway | 8001 | ç½‘å…³æœåŠ¡ |
| API | 8002 | APIæœåŠ¡ |
| Admin | 8003 | AdminæœåŠ¡ï¼ˆå¦‚æœ‰ï¼‰ |

## å…­ã€å¸¸è§é—®é¢˜

### Q1: ç¼–è¯‘å¤±è´¥ - ä¾èµ–ä¸‹è½½æ…¢
```bash
# é…ç½®é˜¿é‡Œäº‘Mavené•œåƒ
vim ~/.m2/settings.xml
```

### Q2: APIå¯åŠ¨å¤±è´¥ - æ•°æ®åº“è¿æ¥é”™è¯¯
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥MySQLæ˜¯å¦å¯åŠ¨ï¼š`mysql -u root -p`
2. æ£€æŸ¥æ•°æ®åº“æ˜¯å¦å­˜åœ¨ï¼š`show databases;`
3. æ£€æŸ¥å¯†ç æ˜¯å¦æ­£ç¡®ï¼š`application-dev.yml`

### Q3: Gatewayå¯åŠ¨å¤±è´¥ - ç«¯å£è¢«å ç”¨
**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
lsof -i:8001

# ä¿®æ”¹Gatewayç«¯å£
# ç¼–è¾‘ collabtask-gateway/src/main/resources/application.yml
server:
  port: 8001  # æ”¹ä¸ºå…¶ä»–ç«¯å£
```

### Q4: æœåŠ¡æœªæ³¨å†Œåˆ°Nacos
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥Nacosæ˜¯å¦å¯åŠ¨
2. æ£€æŸ¥ `bootstrap.yml` ä¸­çš„Nacosåœ°å€
3. æŸ¥çœ‹å¯åŠ¨æ—¥å¿—ä¸­æ˜¯å¦æœ‰Nacosç›¸å…³é”™è¯¯

### Q5: Gatewayæ— æ³•è·¯ç”±åˆ°API
**å¯èƒ½åŸå› **ï¼š
1. APIæœåŠ¡æœªå¯åŠ¨
2. APIæœåŠ¡æœªæ³¨å†Œåˆ°Nacos
3. Gatewayè·¯ç”±é…ç½®é”™è¯¯

**æ’æŸ¥æ­¥éª¤**ï¼š
```bash
# 1. æ£€æŸ¥APIæ˜¯å¦åœ¨Nacosæ³¨å†Œ
è®¿é—® http://localhost:8848/nacos -> æœåŠ¡åˆ—è¡¨

# 2. æ£€æŸ¥Gatewayè·¯ç”±é…ç½®
cat collabtask-gateway/src/main/resources/application.yml

# 3. æŸ¥çœ‹Gatewayæ—¥å¿—
# æ—¥å¿—ä½ç½®ï¼š/Users/zgy/logs/collabtask-gateway/
```

## ä¸ƒã€åœæ­¢æœåŠ¡

### å‘½ä»¤è¡Œå¯åŠ¨çš„æœåŠ¡
æŒ‰ `Ctrl + C` åœæ­¢

### IDEAå¯åŠ¨çš„æœåŠ¡
ç‚¹å‡» IDEA çš„åœæ­¢æŒ‰é’®

## å…«ã€æ—¥å¿—æŸ¥çœ‹

### å®æ—¶æŸ¥çœ‹æ—¥å¿—
```bash
# APIæœåŠ¡æ—¥å¿—
tail -f /Users/zgy/logs/collabtask-api/info.log

# GatewayæœåŠ¡æ—¥å¿—
tail -f /Users/zgy/logs/collabtask-gateway/info.log
```

### æ—¥å¿—æ–‡ä»¶ä½ç½®
```
/Users/zgy/logs/
â”œâ”€â”€ collabtask-api/
â”‚   â”œâ”€â”€ info.log      # æ‰€æœ‰æ—¥å¿—
â”‚   â””â”€â”€ error.log     # é”™è¯¯æ—¥å¿—
â””â”€â”€ collabtask-gateway/
    â”œâ”€â”€ info.log
    â””â”€â”€ error.log
```

## ä¹ã€å¼€å‘å»ºè®®

### 1. å¯åŠ¨é¡ºåº
å»ºè®®æŒ‰ä»¥ä¸‹é¡ºåºå¯åŠ¨ï¼š
1. Nacos
2. APIæœåŠ¡
3. GatewayæœåŠ¡

### 2. çƒ­éƒ¨ç½²
ä½¿ç”¨ `spring-boot-devtools` å®ç°çƒ­éƒ¨ç½²ï¼š
```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-devtools</artifactId>
    <optional>true</optional>
</dependency>
```

### 3. è°ƒè¯•å»ºè®®
- å¼€å‘ç¯å¢ƒå»ºè®®ç›´æ¥è®¿é—®APIæœåŠ¡ï¼ˆç«¯å£8002ï¼‰è°ƒè¯•
- Gatewayç›¸å…³åŠŸèƒ½æ‰éœ€è¦é€šè¿‡Gatewayï¼ˆç«¯å£8001ï¼‰è®¿é—®

## åã€éƒ¨ç½²æ£€æŸ¥æ¸…å•

### é¦–æ¬¡éƒ¨ç½²
- [ ] JDKç‰ˆæœ¬æ­£ç¡®ï¼ˆ17+ï¼‰
- [ ] MySQLå·²å¯åŠ¨ï¼Œæ•°æ®åº“å·²åˆ›å»º
- [ ] Rediså·²å¯åŠ¨
- [ ] Nacoså·²å¯åŠ¨
- [ ] é…ç½®æ–‡ä»¶ä¸­çš„å¯†ç å·²ä¿®æ”¹
- [ ] Mavenä¾èµ–å·²ä¸‹è½½å®Œæˆ
- [ ] é¡¹ç›®ç¼–è¯‘æˆåŠŸ
- [ ] APIæœåŠ¡å¯åŠ¨æˆåŠŸ
- [ ] GatewayæœåŠ¡å¯åŠ¨æˆåŠŸ
- [ ] æœåŠ¡å·²æ³¨å†Œåˆ°Nacos
- [ ] æµ‹è¯•æ¥å£è®¿é—®æ­£å¸¸

### æ—¥å¸¸å¼€å‘
- [ ] æ‹‰å–æœ€æ–°ä»£ç 
- [ ] Mavenç¼–è¯‘
- [ ] é‡å¯ç›¸å…³æœåŠ¡
- [ ] éªŒè¯åŠŸèƒ½

## åä¸€ã€å¿«é€Ÿå‘½ä»¤å‚è€ƒ

```bash
# ç¼–è¯‘æ•´ä¸ªé¡¹ç›®
mvn clean install

# åªç¼–è¯‘ä¸æµ‹è¯•
mvn clean install -DskipTests

# å¯åŠ¨API
cd collabtask-api && mvn spring-boot:run

# å¯åŠ¨Gateway
cd collabtask-gateway && mvn spring-boot:run

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
ps aux | grep java

# æ£€æŸ¥ç«¯å£
lsof -i:8001
lsof -i:8002

# æŸ¥çœ‹æ—¥å¿—
tail -f /Users/zgy/logs/collabtask-api/info.log
tail -f /Users/zgy/logs/collabtask-gateway/info.log
```

---

**ğŸ“ æç¤º**ï¼š
- é¦–æ¬¡å¯åŠ¨å‰åŠ¡å¿…æ£€æŸ¥é…ç½®æ–‡ä»¶
- é‡åˆ°é—®é¢˜å…ˆæŸ¥çœ‹æ—¥å¿—
- å¼€å‘æ—¶å»ºè®®ä½¿ç”¨IDEAå¯åŠ¨ï¼Œæ›´æ–¹ä¾¿è°ƒè¯•

